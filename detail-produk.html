<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Detail Produk - Furniture Store</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="shortcut icon" type="png" href="images/fs.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        .product-detail {
            padding: 60px 0;
        }
        
        .product-container {
            display: flex;
            flex-wrap: wrap;
            gap: 40px;
        }
        
        .product-gallery {
            flex: 1;
            min-width: 300px;
        }
        
        .main-image {
            width: 100%;
            height: 400px;
            object-fit: cover;
            border-radius: 10px;
            margin-bottom: 15px;
            cursor: zoom-in;
        }
        
        .thumbnail-container {
            display: flex;
            gap: 10px;
        }
        
        .thumbnail {
            width: 70px;
            height: 70px;
            object-fit: cover;
            border-radius: 5px;
            cursor: pointer;
            border: 2px solid transparent;
            transition: all 0.3s ease;
        }
        
        .thumbnail:hover, .thumbnail.active {
            border-color: var(--accent-color);
        }
        
        .product-info {
            flex: 1;
            min-width: 300px;
        }
        
        .product-title {
            font-size: 2rem;
            margin-bottom: 10px;
            color: var(--dark-color);
        }
        
        .product-price {
            font-size: 1.8rem;
            color: var(--accent-color);
            font-weight: 700;
            margin-bottom: 20px;
        }
        
        .product-rating {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .stars {
            color: #f1c40f;
            margin-right: 10px;
        }
        
        .review-count {
            color: #7f8c8d;
            font-size: 0.9rem;
        }
        
        .product-description {
            margin-bottom: 30px;
            line-height: 1.6;
        }
        
        .product-variants {
            margin-bottom: 30px;
        }
        
        .variant-option {
            margin-bottom: 15px;
        }
        
        .variant-option h4 {
            margin-bottom: 10px;
            font-size: 1rem;
        }
        
        .variant-selector {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }
        
        .variant {
            padding: 8px 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .variant:hover, .variant.selected {
            border-color: var(--accent-color);
            background-color: rgba(230, 126, 34, 0.1);
        }
        
        .variant.disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .quantity-selector {
            display: flex;
            align-items: center;
            margin-bottom: 30px;
        }
        
        .quantity-btn {
            width: 40px;
            height: 40px;
            background-color: #f5f5f5;
            border: none;
            font-size: 1.2rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .quantity-input {
            width: 60px;
            height: 40px;
            text-align: center;
            border: 1px solid #ddd;
            margin: 0 5px;
        }
        
        .product-actions {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }
        
        .add-to-cart, .buy-now {
            padding: 12px 30px;
            border: none;
            border-radius: 5px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .add-to-cart {
            background-color: var(--primary-color);
            color: white;
        }
        
        .add-to-cart:hover {
            background-color: var(--secondary-color);
        }
        
        .buy-now {
            background-color: var(--accent-color);
            color: white;
        }
        
        .buy-now:hover {
            background-color: #d35400;
        }
        
        .product-tabs {
            margin-top: 60px;
        }
        
        .tabs-header {
            display: flex;
            border-bottom: 1px solid #ddd;
            margin-bottom: 20px;
        }
        
        .tab-btn {
            padding: 10px 20px;
            background: none;
            border: none;
            border-bottom: 3px solid transparent;
            cursor: pointer;
            font-weight: 600;
            color: #7f8c8d;
        }
        
        .tab-btn.active {
            color: var(--dark-color);
            border-bottom-color: var(--accent-color);
        }
        
        .tab-content {
            display: none;
            padding: 20px 0;
            animation: fadeIn 0.5s ease;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .specifications table {
            width: 100%;
            border-collapse: collapse;
        }
        
        .specifications tr:nth-child(even) {
            background-color: #f9f9f9;
        }
        
        .specifications th, .specifications td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        
        .specifications th {
            width: 30%;
            color: var(--dark-color);
        }
        
        .review-item {
            padding: 20px 0;
            border-bottom: 1px solid #eee;
        }
        
        .review-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
        }
        
        .review-author {
            font-weight: 600;
        }
        
        .review-date {
            color: #7f8c8d;
            font-size: 0.9rem;
        }
        
        .review-rating {
            color: #f1c40f;
            margin-bottom: 10px;
        }
        
        .related-products {
            margin-top: 80px;
        }
        
        .related-products h3 {
            margin-bottom: 30px;
            font-size: 1.5rem;
            color: var(--dark-color);
        }
        
        @media (max-width: 768px) {
            .main-image {
                height: 300px;
            }
            
            .product-title {
                font-size: 1.5rem;
            }
            
            .product-price {
                font-size: 1.4rem;
            }
        }
    </style>
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar">
        <div class="logo">Furniture Store</div>
        <ul class="nav-links" id="navLinks">
            <li><a href="index.html">Home</a></li>
            <li><a href="index.html#kategori">Kategori</a></li>
            <li><a href="index.html#produk">Produk</a></li>
            <li>
                <a href="keranjang.html" class="cart-icon">
                    <i class="fas fa-shopping-cart"></i>
                    <span id="cart-count">0</span>
                </a>
            </li>
            <li><a href="profile.html"><i class="fas fa-user"></i></a></li>
            <li id="login-link"><a href="login.html">Login</a></li>
        </ul>
        <div class="burger-menu" onclick="toggleNav()">
            <i class="fas fa-bars"></i>
        </div>
    </nav>

    <!-- Product Detail Section -->
    <section class="product-detail">
        <div class="container">
            <div class="product-container">
                <div class="product-gallery">
                    <img id="main-image" src="images/kursi.jpeg" alt="Kursi Modern" class="main-image">
                    <div class="thumbnail-container">
                        <img src="images/kursi.jpeg" alt="Kursi Modern" class="thumbnail active" onclick="changeImage(this)">
                        <img src="images/kblack.jpeg" alt="Kursi Hitam" class="thumbnail" onclick="changeImage(this)">
                        <img src="images/kklasik.jpeg" alt="Kursi Klasik" class="thumbnail" onclick="changeImage(this)">
                        <img src="images/rotan.jpg" alt="Kursi Sudut" class="thumbnail" onclick="changeImage(this)">
                    </div>
                </div>
                
                <div class="product-info">
                    <h1 class="product-title" id="product-title">Kursi Modern</h1>
                    <p class="product-price" id="product-price">Rp 1.500.000</p>
                    
                    <div class="product-rating">
                        <div class="stars">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star-half-alt"></i>
                        </div>
                        <span class="review-count">(24 ulasan)</span>
                    </div>
                    
                    <div class="product-description">
                        <p>Kursi modern dengan desain minimalis yang elegan, cocok untuk ruang tamu atau ruang kerja Anda. Dibuat dari bahan kayu jati berkualitas tinggi dengan finishing yang halus dan tahan lama. Dilengkapi dengan bantal duduk yang nyaman dan dapat dilepas untuk memudahkan perawatan.</p>
                    </div>
                    
                    <div class="product-variants">
                        <div class="variant-option">
                            <h4>Warna</h4>
                            <div class="variant-selector">
                                <div class="variant selected" data-color="coklat" onclick="selectVariant(this, 'color')">Coklat</div>
                                <div class="variant" data-color="hitam" onclick="selectVariant(this, 'color')">Hitam</div>
                                <div class="variant" data-color="putih" onclick="selectVariant(this, 'color')">Putih</div>
                            </div>
                        </div>
                        
                        <div class="variant-option">
                            <h4>Material</h4>
                            <div class="variant-selector">
                                <div class="variant selected" data-material="kayu" onclick="selectVariant(this, 'material')">Kayu Jati</div>
                                <div class="variant" data-material="metal" onclick="selectVariant(this, 'material')">Metal</div>
                                <div class="variant disabled" data-material="rotan" onclick="selectVariant(this, 'material')">Rotan (Habis)</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="quantity-selector">
                        <button class="quantity-btn" onclick="changeQuantity(-1)">-</button>
                        <input type="number" class="quantity-input" id="quantity" value="1" min="1">
                        <button class="quantity-btn" onclick="changeQuantity(1)">+</button>
                    </div>
                    
                    <div class="product-actions">
                        <button class="add-to-cart" onclick="addToCart()">
                            <i class="fas fa-cart-plus"></i> Tambah ke Keranjang
                        </button>
                        <button class="buy-now" onclick="buyNow()">
                            <i class="fas fa-bolt"></i> Beli Sekarang
                        </button>
                    </div>
                </div>
            </div>
            
            <div class="product-tabs">
                <div class="tabs-header">
                    <button class="tab-btn active" onclick="openTab('description')">Deskripsi</button>
                    <button class="tab-btn" onclick="openTab('specifications')">Spesifikasi</button>
                    <button class="tab-btn" onclick="openTab('reviews')">Ulasan</button>
                </div>
                
                <div id="description" class="tab-content active">
                    <p>Kursi Modern ini dirancang untuk memberikan kenyamanan maksimal dengan gaya yang elegan. Dengan tinggi 85 cm dan lebar 55 cm, kursi ini cocok untuk berbagai tipe tubuh. Bahan kayu jati yang digunakan telah melalui proses pengeringan yang tepat sehingga tahan lama dan tidak mudah retak.</p>
                    <p>Kursi ini memiliki bantal duduk yang terbuat dari busa high density yang dilapisi kain katun berkualitas tinggi. Bantal dapat dilepas untuk dicuci atau diganti sesuai selera Anda. Kaki kursi dilengkapi dengan bantalan anti gores untuk melindungi lantai Anda.</p>
                </div>
                
                <div id="specifications" class="tab-content">
                    <div class="specifications">
                        <table>
                            <tr>
                                <th>Dimensi</th>
                                <td>55cm (L) x 55cm (D) x 85cm (T)</td>
                            </tr>
                            <tr>
                                <th>Material</th>
                                <td>Kayu Jati, Kain Katun</td>
                            </tr>
                            <tr>
                                <th>Berat</th>
                                <td>8 kg</td>
                            </tr>
                            <tr>
                                <th>Warna</th>
                                <td>Coklat, Hitam, Putih</td>
                            </tr>
                            <tr>
                                <th>Kapasitas Beban</th>
                                <td>150 kg</td>
                            </tr>
                            <tr>
                                <th>Perawatan</th>
                                <td>Lap dengan kain lembut, Hindari air berlebih</td>
                            </tr>
                        </table>
                    </div>
                </div>
                
                <div id="reviews" class="tab-content">
                    <div class="review-item">
                        <div class="review-header">
                            <span class="review-author">Budi Santoso</span>
                            <span class="review-date">15 Maret 2023</span>
                        </div>
                        <div class="review-rating">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                        </div>
                        <p>Kursinya sangat nyaman dan kokoh. Desainnya modern dan cocok dengan interior rumah saya. Pengiriman cepat dan packing aman.</p>
                    </div>
                    
                    <div class="review-item">
                        <div class="review-header">
                            <span class="review-author">Ani Wijaya</span>
                            <span class="review-date">28 Februari 2023</span>
                        </div>
                        <div class="review-rating">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star-half-alt"></i>
                        </div>
                        <p>Kualitas kayu sangat bagus, finishing halus. Hanya saja bantal duduk agak keras di awal, tapi semakin lama semakin nyaman.</p>
                    </div>
                    
                    <div class="add-review">
                        <h4>Tambah Ulasan</h4>
                        <form id="review-form">
                            <div class="form-group">
                                <label for="review-rating">Rating</label>
                                <div class="rating-stars">
                                    <i class="far fa-star" data-rating="1"></i>
                                    <i class="far fa-star" data-rating="2"></i>
                                    <i class="far fa-star" data-rating="3"></i>
                                    <i class="far fa-star" data-rating="4"></i>
                                    <i class="far fa-star" data-rating="5"></i>
                                    <input type="hidden" id="review-rating" value="0">
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="review-comment">Ulasan Anda</label>
                                <textarea id="review-comment" rows="4" required></textarea>
                            </div>
                            <button type="submit" class="submit-btn">Kirim Ulasan</button>
                        </form>
                    </div>
                </div>
            </div>
            
            <div class="related-products">
                <h3>Produk Terkait</h3>
                <div class="produk-list">
                    <div class="produk-item">
                        <a href="detail-produk.html">
                            <img src="images/meja.jpeg" alt="Meja Kayu">
                            <h3>Meja Kayu</h3>
                            <p class="price">Rp 2.000.000</p>
                        </a>
                        <button onclick="addToCart(event, 2)">
                            <i class="fas fa-cart-plus"></i> Tambah ke Keranjang
                        </button>
                    </div>
                    
                    <div class="produk-item">
                        <a href="detail-produk.html">
                            <img src="images/sofa.jpeg" alt="Sofa Minimalis">
                            <h3>Sofa Minimalis</h3>
                            <p class="price">Rp 3.500.000</p>
                        </a>
                        <button onclick="addToCart(event, 3)">
                            <i class="fas fa-cart-plus"></i> Tambah ke Keranjang
                        </button>
                    </div>
                    
                    <div class="produk-item">
                        <a href="detail-produk.html">
                            <img src="images/lemari.jpeg" alt="Lemari Pakaian">
                            <h3>Lemari Pakaian</h3>
                            <p class="price">Rp 4.000.000</p>
                        </a>
                        <button onclick="addToCart(event, 4)">
                            <i class="fas fa-cart-plus"></i> Tambah ke Keranjang
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="footer-content">
            <div class="footer-section about">
                <h3>Tentang Kami</h3>
                <p>Furniture Store menyediakan furnitur berkualitas tinggi dengan desain modern dan harga terjangkau.</p>
                <div class="contact">
                    <span><i class="fas fa-phone"></i> 0812-3456-7890</span>
                    <span><i class="fas fa-envelope"></i> info@furniturestore.com</span>
                </div>
            </div>
            <div class="footer-section links">
                <h3>Link Cepat</h3>
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="index.html#kategori">Kategori</a></li>
                    <li><a href="index.html#produk">Produk</a></li>
                    <li><a href="keranjang.html">Keranjang</a></li>
                    <li><a href="profile.html">Profile</a></li>
                </ul>
            </div>
            <div class="footer-section social">
                <h3>Ikuti Kami</h3>
                <div class="social-links">
                    <a href="#"><i class="fab fa-facebook"></i></a>
                    <a href="#"><i class="fab fa-instagram"></i></a>
                    <a href="#"><i class="fab fa-twitter"></i></a>
                    <a href="#"><i class="fab fa-youtube"></i></a>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2023 Furniture Store. All Rights Reserved.</p>
        </div>
    </footer>

    <script src="script.js"></script>
    <script>
        // Fungsi untuk mengubah gambar utama
        function changeImage(element) {
            const mainImage = document.getElementById('main-image');
            mainImage.src = element.src;
            
            // Update active thumbnail
            document.querySelectorAll('.thumbnail').forEach(thumb => {
                thumb.classList.remove('active');
            });
            element.classList.add('active');
        }
        
        // Fungsi untuk memilih varian
        function selectVariant(element, type) {
            // Hanya jika tidak disabled
            if (element.classList.contains('disabled')) return;
            
            // Update selected variant
            const parent = element.parentElement;
            parent.querySelectorAll('.variant').forEach(v => {
                v.classList.remove('selected');
            });
            element.classList.add('selected');
            
            // Di aplikasi nyata, bisa update harga atau gambar berdasarkan varian
        }
        
        // Fungsi untuk mengubah quantity
        function changeQuantity(change) {
            const quantityInput = document.getElementById('quantity');
            let newValue = parseInt(quantityInput.value) + change;
            
            if (newValue < 1) newValue = 1;
            quantityInput.value = newValue;
        }
        
        // Fungsi untuk menambahkan ke keranjang
        function addToCart() {
            const product = {
                id: 1,
                nama: document.getElementById('product-title').textContent,
                harga: parseInt(document.getElementById('product-price').textContent.replace('Rp ', '').replace(/\./g, '')),
                gambar: document.getElementById('main-image').src,
                quantity: parseInt(document.getElementById('quantity').value),
                color: document.querySelector('.variant-selector [data-color].selected').dataset.color,
                material: document.querySelector('.variant-selector [data-material].selected').dataset.material
            };
            
            // Tambahkan ke keranjang
            let cart = JSON.parse(localStorage.getItem('cart')) || [];
            
            // Cek apakah produk sudah ada di keranjang dengan varian yang sama
            const existingIndex = cart.findIndex(item => 
                item.id === product.id && 
                item.color === product.color && 
                item.material === product.material
            );
            
            if (existingIndex >= 0) {
                cart[existingIndex].quantity += product.quantity;
            } else {
                cart.push(product);
            }
            
            localStorage.setItem('cart', JSON.stringify(cart));
            updateCartCount();
            showNotification('Produk telah ditambahkan ke keranjang');
        }
        
        // Fungsi untuk beli sekarang
        function buyNow() {
            addToCart();
            setTimeout(() => {
                window.location.href = 'pesan.html';
            }, 500);
        }
        
        // Fungsi untuk tab
        function openTab(tabId) {
            // Hide all tab contents
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Deactivate all tab buttons
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Activate selected tab
            document.getElementById(tabId).classList.add('active');
            event.currentTarget.classList.add('active');
        }
        
        // Fungsi untuk rating ulasan
        document.querySelectorAll('.rating-stars i').forEach(star => {
            star.addEventListener('click', function() {
                const rating = parseInt(this.dataset.rating);
                document.getElementById('review-rating').value = rating;
                
                // Update star display
                const stars = document.querySelectorAll('.rating-stars i');
                stars.forEach((s, index) => {
                    if (index < rating) {
                        s.classList.remove('far');
                        s.classList.add('fas');
                    } else {
                        s.classList.remove('fas');
                        s.classList.add('far');
                    }
                });
            });
        });
        
        // Fungsi untuk submit ulasan
        document.getElementById('review-form').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const loggedInUser = JSON.parse(localStorage.getItem('loggedInUser'));
            if (!loggedInUser) {
                showNotification('Silakan login untuk memberikan ulasan');
                setTimeout(() => {
                    window.location.href = 'login.html?redirect=' + encodeURIComponent(window.location.href);
                }, 1500);
                return;
            }
            
            const rating = document.getElementById('review-rating').value;
            const comment = document.getElementById('review-comment').value;
            
            if (rating == 0) {
                showNotification('Silakan beri rating');
                return;
            }
            
            // Di aplikasi nyata, simpan ulasan ke database
            showNotification('Ulasan Anda telah dikirim. Terima kasih!');
            this.reset();
            
            // Reset stars
            document.querySelectorAll('.rating-stars i').forEach(star => {
                star.classList.remove('fas');
                star.classList.add('far');
            });
            document.getElementById('review-rating').value = 0;
        });
        
        // Jalankan saat halaman dimuat
        document.addEventListener('DOMContentLoaded', function() {
            checkLoginStatus();
            updateCartCount();
            
            // Ambil parameter produk dari URL (simulasi)
            const urlParams = new URLSearchParams(window.location.search);
            const productId = urlParams.get('id');
            
            // Di aplikasi nyata, ambil data produk dari database berdasarkan ID
        });
    </script>
</body>
</html>